{"version":3,"sources":["webpack:///./lib/terra-dev-site/doc/application/WorkflowsProposal.9.doc.mdx"],"names":["layoutProps","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"68-cc669d6819fe7ba65c37.js","sourcesContent":["\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"portaled-workflow-proposal\"\n    }}>{`Portaled Workflow Proposal`}</h1>\n    <h2 {...{\n      \"id\": \"reminders\"\n    }}>{`Reminders`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Need inert for accessibility, focus trap has problems`}</li>\n      <li parentName=\"ul\">{`Replay focus on launch point for portaled contents`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"portal-components\"\n    }}>{`Portal Components`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`Modal (Modal Manager)`}</li>\n      <li parentName=\"ol\">{`Popup (Hookshot, Select(?), Date Picker)`}</li>\n      <li parentName=\"ol\">{`Notification Dialog`}</li>\n      <li parentName=\"ol\">{`Blocking Overlay`}</li>\n      <li parentName=\"ol\">{`Framework Dialog`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"z-index-ranges\"\n    }}>{`Z-Index Ranges`}</h2>\n    <p>{`  0 ----------> 1000 ------------------> 2000 -------------------> 3000 --------------> 4000\n(Root)         (Modal)           (Notification Dialog)      (Blocking Overlay)    (Framework Dialog)`}</p>\n    <h2 {...{\n      \"id\": \"types-of-portaled-elements\"\n    }}>{`Types of Portaled Elements`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`Fixed`}</li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\">{`Element presents at a fixed z-index. Framework logic is in place to prevent duplicate presentation (layered elements).`}</li>\n      <li parentName=\"ul\">{`Components include: Blocking Overlay, Notification Dialog, Framework Dialog`}</li>\n    </ul>\n    <ol {...{\n      \"start\": 2\n    }}>\n      <li parentName=\"ol\">{`Relative`}</li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\">{`Element presents at a dynamic z-index relative to and higher than a parent portal, resulting in a layered display`}</li>\n      <li parentName=\"ul\">{`Components include: Modal, Popup`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"component-deep-dives\"\n    }}>{`Component Deep Dives`}</h2>\n    <h3 {...{\n      \"id\": \"modal\"\n    }}>{`Modal`}</h3>\n    <p>{`Type: Relative (min 1000)`}</p>\n    <p>{`Intended Usage:`}</p>\n    <p>{`The Modal component allows a component to present modal content within the same component context.\nThe Modal is considered an extension of the content that renders it, not a wholly separate entity.\nmanaged by the framework. The removal of the presenting component will result in the dismissal of the presented Modal.\nModal presentation should be reproducible and originate from user interaction, not automatically from async actions.`}</p>\n    <p>{`Features:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Always closes on escape key press`}</li>\n      <li parentName=\"ul\">{`Never closes on outside click`}</li>\n      <li parentName=\"ul\">{`Always includes ActionHeader with modalTitle and close button (executing onRequestClose callback)`}</li>\n      <li parentName=\"ul\">{`Always includes ActionFooter with 'Close' button (executing onRequestClose callback)`}</li>\n      <li parentName=\"ul\">{`Provides z-index context for nested portal content`}</li>\n      <li parentName=\"ul\">{`Modals presented within a Modal will result in stacked modal presentation`}</li>\n      <li parentName=\"ul\">{`Subsequent Modals presented at the same index will be automatically closed`}</li>\n      <li parentName=\"ul\">{`NavigationPrompt integration with close actions`}</li>\n      <li parentName=\"ul\">{`Content within modal is functionally equivalent to root level content and can render the same components without issue`}</li>\n    </ul>\n    <p>{`API:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`<Modal\n  modalTitle={'Example Title'}  // doubles as aria-label (?)\n  role=\"dialog\"                 // might be able to default this\n  size={'TBD'}                  // Size API from disclosure API, or something new?\n  isOpen={modalIsOpen}\n  onRequestClose={() => {\n    setModalIsOpen(false);\n  }}\n>\n  <div>Modal Content</div>\n</Modal>\n`}</code></pre>\n    <p>{`Outstanding Questions:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`How do we handle the display of notification banners within these content-driven modals?`}</li>\n      <li parentName=\"ul\">{`How do we get global modal banners (like the Demographics banner) injected into this content-driven modal?`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`We could have a separate context that components can provide with a banner, any Modals open within that context present the content.`}</li>\n          <li parentName=\"ul\">{`Need to investigate more with what Matt's talked about with a more generic \"Concept\" context.`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`Would we need additional props for additional header/footer actions?`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`I'm assuming this is yes, but left them out for the time being.`}</li>\n          <li parentName=\"ul\">{`Footer actions get interesting when combined with the default Close button.`}</li>\n        </ul></li>\n    </ul>\n    <p>{`Benefits:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`One modal to rule them all`}</li>\n      <li parentName=\"ul\">{`Greatly simplified modal experience for our consumers`}</li>\n      <li parentName=\"ul\">{`Strict enforcement of UX/accessibility standards for modals`}</li>\n      <li parentName=\"ul\">{`Context chain is persisted`}</li>\n    </ul>\n    <p>{`Drawbacks:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Divergent from existing ModalManager design`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"popup\"\n    }}>{`Popup`}</h3>\n    <p>{`Type: Relative (min 0)`}</p>\n    <p>{`Intended Usage:`}</p>\n    <p>{`The Popup component's intended usage is very similar to that of the Modal. The Popup should be used\nto present transient, positioned content.`}</p>\n    <p>{`Features:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Always close on escape`}</li>\n      <li parentName=\"ul\">{`Always close on outside click`}</li>\n      <li parentName=\"ul\">{`Positions z-index relative to parent portals`}</li>\n      <li parentName=\"ul\">{`Does not provide z-index context for nested portal content. Popup is a portal endstate.`}</li>\n      <li parentName=\"ul\">{`Subsequent Popups presented at the same index will be automatically closed`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"notification-dialog\"\n    }}>{`Notification Dialog`}</h3>\n    <p>{`Type: Fixed (2000)`}</p>\n    <p>{`Intended Usage:`}</p>\n    <p>{`The Notification Dialog shows a modal view with a restricted presentation API.`}</p>\n    <p>{`Users call an imperative API to add data to a queue. Notification Dialogs are presented with data from that queue until the queue is\nempty. This prevents multiple dialogs from being presented at any given time.`}</p>\n    <p>{`Features:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Never close on escape`}</li>\n      <li parentName=\"ul\">{`Never close on outside click`}</li>\n      <li parentName=\"ul\">{`Does not provide z-index context for nested portal content. Notification Dialog is a portal endstate.`}</li>\n      <li parentName=\"ul\">{`Always includes header/footer with fixed actions.`}</li>\n    </ul>\n    <p>{`API:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`// custom hook to assign id's/cleanup dialogs automatically when presenter components unmount\n// Class components could call global methods directly, but they'd have more work to do to clean up\nconst useNotifications = () => {\n  const idRef = useRef(uuidv4());\n\n  useEffect(() => () => {\n    // Cleanup on unmount if they're still hanging around\n    TerraApplication.notifications.removeDialog(idRef.current);\n  })\n\n  const notificationsAPI = useMemo(() => ({\n    showDialog: (options) => {\n      return TerraApplication.notifications.showDialog({ ...options, id: idRef.current });\n    }\n  }), [])\n\n  return notificationsAPI;\n}\n\nconst ExampleComponent = () => {\n  const notifications = useNotifications();\n\n  const submitRequest = () => { /* do the thing */ };\n\n  const onFormSubmit = async () => {\n    const userSelection = await notifications.showDialog({\n      variant: 'warning',\n      startMessage: 'Are you sure you want to do that?',\n      buttonOrder: 'acceptFirst',                         // We can probably default this globally somehow\n      acceptActionText: 'Yes',                            // Likely have defaults for this text as well. Ideally the consumer would only \n      rejectActionText: 'No',\n    });\n    \n    if (userSelection === 'accept') {\n      submitRequest();\n    }\n  }\n\n  return (\n    <button onClick={onFormSubmit}>Submit</button>\n  );\n}\n`}</code></pre>\n    <p>{`Outstanding Questions:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Would the queue order need to be managed/manipulated based on notification type (error > warning)?`}</li>\n      <li parentName=\"ul\">{`What types of custom content do we need to support? Popups/selects?`}</li>\n      <li parentName=\"ul\">{`Do we truly need to support custom variants or can we lock this down?`}</li>\n    </ul>\n    <p>{`Benefits:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`More control over presentation and display of application notifications`}</li>\n      <li parentName=\"ul\">{`Rigid styling to enforce UX/accessibility patterns`}</li>\n    </ul>\n    <p>{`Drawbacks:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Context chain is not persisted, unlike today. Depending on the custom content requirements, this might not be a big deal.`}</li>\n      <li parentName=\"ul\">{`Imperative API isn't typical React`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"blocking-overlay\"\n    }}>{`Blocking Overlay`}</h3>\n    <p>{`Type: Fixed (3000)`}</p>\n    <p>{`Intended Usage:`}</p>\n    <p>{`The Blocking Overlay is an overlay component used to block user input into the application. The Blocking Overlay covers the entirety of the application,\nincluding all portaled content (besides the Framework Dialog).`}</p>\n    <p>{`Blocking Overlay presentation should be originate from user interaction, not present automatically from async actions. Usage should generally be discouraged\nin favor of scratchpad/non-junk service usage.`}</p>\n    <p>{`Features:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Never close on escape`}</li>\n      <li parentName=\"ul\">{`Never close on outside click (what outside click)`}</li>\n      <li parentName=\"ul\">{`Does not provide z-index context for nested portal content. Blocking Overlay is a portal endstate.`}</li>\n      <li parentName=\"ul\">{`Includes timeout logic to allow user to dismiss overlay after period of time`}</li>\n    </ul>\n    <p>{`API:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`\nconst cancelablePromise = (promise) => {\n  let isCanceled = false;\n\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then((val) => {\n      if (isCanceled) {\n        reject({ isCanceled: true }); \n        return;\n      }\n\n      resolve(val);\n    });\n\n    promise.catch(error) => {\n      if (isCanceled) {\n        reject({ isCanceled: true }); \n        return;\n      }\n\n      reject(error);\n    }\n  });\n\n  return {\n    promise: wrappedPromise,\n    cancel: () => { isCanceled = true; }\n  }\n}\n\nconst ExampleComponent = () => {\n  const [isSaving, setIsSaving] = useState(false);\n  const saveRequestRef = useRef();\n\n  function cleanupLongRequest() {\n    setIsSaving(false);\n    if (saveRequestRef.current) {\n      saveRequestRef.current.cancel();\n      saveRequestRef.current = undefined;\n    }\n    // Work on fixing services\n  }\n\n  function startSaving() {\n    setIsSaving(true);\n\n    saveRequestRef.current = cancelablePromise(saveRequest());\n    \n    saveRequestRef.current.promise.then(() => {\n      setIsSaving(false);\n      saveRequestRef.current = undefined;\n    }).catch((error) => {\n      setIsSaving(false);\n      saveRequestRef.current = undefined;\n\n      if (error?.isCancelled) { return; }\n\n      console.error('Yo something broke');\n    })\n  }\n\n  return (\n    <div>\n      <BlockingOverlay\n        isOpen={isSaving}\n        timeoutMessage=\"This sure is taking a while. Cancel?\"\n        timeoutButtonText=\"Cancel\"\n        onTimeout={() => {\n          cleanupLongRequest();\n        }}\n      />\n      <button onClick={startSaving}>Save</button>\n    </div>\n  )\n}\n\n// OR\n\nconst useBlockingOverlay = () => {\n  const idRef = useRef(uuidv4());\n  const cleanupRef = useRef();\n\n  const api = useMemo(() => ({\n    show: (promise, options) => {\n      const wrappedPromise = cancelablePromise(promise);\n\n      TerraApplication.blockingOverlay.show(idRef.current, options, wrappedPromise.cancel);\n\n      cleanupRef.current = () => {\n        wrappedPromise.cancel();\n        TerraApplication.blockingOverlay.hide(idRef.current);\n      };\n\n      return {\n        promise: wrappedPromise.promise.then((val) => {\n          TerraApplication.blockingOverlay.hide(idRef.current);\n          cleanupRef.current = undefined;\n\n          return val;\n        }).reject((error) => {\n          TerraApplication.blockingOverlay.hide(idRef.current);\n          cleanupRef.current = undefined;\n\n          return error;\n        }),\n        cancel: () => {\n          wrappedPromise.cancel();\n          TerraApplication.blockingOverlay.hide(idRef.current);\n          cleanupRef.current = undefined;\n        },\n      };\n    },\n  }), []);\n\n  useLayoutEffect(() => () => {\n    if (cleanupRef.current) {\n      cleanupRef.current();\n    }\n  }, []);\n\n  return api;\n}\n\nconst ExampleComponent = () => {\n  const [isSaving, setIsSaving] = useState(false);\n  const blockingOverlay = useBlockingOverlay();\n\n  function startSaving() {\n    setIsSaving(true);\n\n    blockingOverlay.show(saveRequest(), {\n      timeoutMessage=\"This sure is taking a while. Cancel?\"\n      timeoutButtonText=\"Cancel\"\n    }).promise.then(() => {\n      setIsSaving(false);\n      // refresh or something\n    }).catch((error) => {\n      setIsSaving(false);\n      saveRequestRef.current = undefined;\n\n      if (error?.isCancelled) { return; }\n\n      console.error('Yo something broke');\n    });\n  }\n\n  return (\n    <div>\n      <button onClick={startSaving}>Save</button>\n    </div>\n  );\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"framework-dialog\"\n    }}>{`Framework Dialog`}</h3>\n    <p>{`Type: Fixed (4000)`}</p>\n    <p>{`Intended Usage: `}</p>\n    <p>{`The Framework Dialog is functionally and visually very similar to the Notification Dialog. The biggest difference between the two\nare consumer access. Only terra-application/orion-application may present a Framework Dialog, and even then in very specific circumstances.\nPrimary use case I can think of right now is the pending lock dialog that we wish to present. `}</p>\n    <p>{`The Framework Dialog would have the highest z-index and present over all other portaled contents, including the Blocking Overlay.`}</p>\n    <p>{`API:`}</p>\n    <p>{`Similar to Notification Dialog, just entirely local to a framework component.`}</p>\n    <h1 {...{\n      \"id\": \"composition-layers\"\n    }}>{`Composition Layers`}</h1>\n    <p>{`ApplicationBase`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Ideally no DOM added here, just context/API\nApplicationContainer`}</li>\n      <li parentName=\"ul\">{`AppConcept banner/content`}</li>\n      <li parentName=\"ul\">{`More than one (ApplicationContainer, NavigationApplicationContainer, EmbeddedApplicationContainer)\nPageContainer`}</li>\n      <li parentName=\"ul\">{`Defines presentation region for Pages`}</li>\n      <li parentName=\"ul\">{`More than one (PageContainer, NavigationPageContainer)\nPage`}</li>\n      <li parentName=\"ul\">{`Fundamental concept for composable application design`}</li>\n      <li parentName=\"ul\">{`Can be presented within Modal (Page API is subset of Modal API)\nModal`}</li>\n      <li parentName=\"ul\">{`Superset of Page API + modal specific API (foot actions)`}</li>\n      <li parentName=\"ul\">{`Can be presented from any layer within ApplicationBase`}</li>\n    </ul>\n    <h1 {...{\n      \"id\": \"todo\"\n    }}>{`TODO`}</h1>\n    <ul>\n      <li parentName=\"ul\">{`Application Concept`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`(X) Prototype implementation`}</li>\n          <li parentName=\"ul\">{`(X) Determine ideal placement locations`}<ul parentName=\"li\">\n              <li parentName=\"ul\">{`The concept will be rendered by the Application Variants (Navigation/Embedded)`}</li>\n            </ul></li>\n          <li parentName=\"ul\">{`Define API for specifying page/modal concept banners (are they the same? are they different?)`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`ApplicationPage`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`(X) Prototype implementation`}</li>\n          <li parentName=\"ul\">{`(X) Investigate scroll position replay`}</li>\n          <li parentName=\"ul\">{`(X) Move 'main' to Page`}</li>\n          <li parentName=\"ul\">{`(X) Investigate NotificationBanner integration`}</li>\n          <li parentName=\"ul\">{`(X) Breadcrumbs prototype`}</li>\n          <li parentName=\"ul\">{`Investigate accessibility impact`}</li>\n          <li parentName=\"ul\">{`Determine actions API`}</li>\n          <li parentName=\"ul\">{`Better Back button?`}</li>\n          <li parentName=\"ul\">{`Hide header for embedded workflows?`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`ApplicationPageContainer`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`(X) Prototype implementation`}</li>\n          <li parentName=\"ul\">{`Workspace region (resizable)`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`SideNavigationPageContainer`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`(X) Prototype implementation`}</li>\n          <li parentName=\"ul\">{`Determine side nav API/data persistance expectations`}</li>\n          <li parentName=\"ul\">{`Determine default side nav design`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`ApplicationModal`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`(X) Prototype implementation`}</li>\n          <li parentName=\"ul\">{`(X) Investigate NotificationBanner integration`}</li>\n          <li parentName=\"ul\">{`(X) Consume Application Concept API`}</li>\n          <li parentName=\"ul\">{`Determine stacking patterns (stack or hide previous)`}</li>\n          <li parentName=\"ul\">{`Inert implementation`}<ul parentName=\"li\">\n              <li parentName=\"ul\">{`If we hide the previous modals, inert isn't necessary beyond base level content`}</li>\n            </ul></li>\n          <li parentName=\"ul\">{`Determine sizing API`}</li>\n          <li parentName=\"ul\">{`Determine header/footer actions API`}<ul parentName=\"li\">\n              <li parentName=\"ul\">{`This should match the ApplicationPage's action API if we want to integrate`}</li>\n            </ul></li>\n        </ul></li>\n      <li parentName=\"ul\">{`Notification Dialog`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Prototype implementation`}</li>\n          <li parentName=\"ul\">{`Investigate imperative API implementation`}</li>\n          <li parentName=\"ul\">{`Investigate dialog queue`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`Notification Banner`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`(X) Prototype implementation`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`Blocking Overlay`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`(X) Prototype implementation`}</li>\n          <li parentName=\"ul\">{`Investigate multi-phase presentation`}</li>\n          <li parentName=\"ul\">{`Investigate duplicate calls`}</li>\n          <li parentName=\"ul\">{`Fix inert implementation for modal/other layer integration`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`Framework Dialog`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Prototype implementation`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`Session Provider (orion-application)`}</li>\n    </ul>\n    <p>{`TODO 7/2`}</p>\n    <ul>\n      <li parentName=\"ul\">{`(X) PageHeader actions dropdown`}</li>\n      <li parentName=\"ul\">{`(X) PageHeader actions launch Popup`}</li>\n      <li parentName=\"ul\">{`Accordion Side Navigation`}</li>\n      <li parentName=\"ul\">{`(X) Full mounts for Primary/Side Nav pages`}</li>\n    </ul>\n    <p>{`TODO 7/9`}</p>\n    <ul>\n      <li parentName=\"ul\">{`(X) PageContainers in modals `}</li>\n      <li parentName=\"ul\">{`(X) Modal header separate from page header`}</li>\n      <li parentName=\"ul\">{`Page-in-modal accessibility (main in modal => bad news bears)`}</li>\n      <li parentName=\"ul\">{`Performance investigation`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Mainstream websites average ~150MB-200MB heap size`}</li>\n          <li parentName=\"ul\">{`terra-ui ~10MB`}</li>\n          <li parentName=\"ul\">{`Demo running in dev site ~10MB`}</li>\n          <li parentName=\"ul\">{`Demo with 100 side nav pages ~20MB (spikes to ~45)`}</li>\n          <li parentName=\"ul\">{`Demo with 1000 side nav pages ~150MB (spikes to ~250) (noticeable performance degradation due to huge side nav list)`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`Accordion Side Navigation`}</li>\n      <li parentName=\"ul\">{`Review Workspace designs`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Think about not rolling up Page header actions`}</li>\n        </ul></li>\n    </ul>\n    <p>{`TODO`}</p>\n    <ul>\n      <li parentName=\"ul\">{`first-class toolbar for page presentation`}</li>\n      <li parentName=\"ul\">{`F6/Shift+F6 accessibility`}</li>\n    </ul>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"],"sourceRoot":""}